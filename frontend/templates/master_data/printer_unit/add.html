{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/list.css' %}">
{% endblock %}

{% block title %}Add Printer Unit{% endblock %}

{% block content %}
<div class="card shadow-lg rounded border-gray-400">
    <div class="card-header d-flex justify-content-between align-items-center border-bottom-gray-400">
        <h3 class="mb-0 text-uppercase fw-bold flex-grow-1 text-center">Add Printer Unit</h3>
        <a href="{% url 'frontend:printer_unit_list' %}" class="btn btn-dark d-flex align-items-center gap-2 px-2 py-1">
            <i class="bi bi-arrow-left fs-5"></i> Back
        </a>
    </div>

    <div class="card-body p-3">
        <form id="add_printer_unit_form" class="ajax-form needs-validation" novalidate
            data-method="POST"
            data-url="/api/printer-unit/"
            data-redirect="{% url 'frontend:printer_unit_list' %}"
            data-error-message="Error submitting Printer Unit." 
            data-csrf="{{ csrf_token }}">
            
            <div class="row g-3">
                <div class="col-md-6">
                    <label for="serial_number" class="form-label">Serial Number</label>
                    <input type="text" class="form-control" id="serial_number" name="serial_number"
                        placeholder="Enter Serial Number" required>
                </div>

                <div class="col-md-6">
                    <label for="printer_model" class="form-label">Printer Model</label>
                    <select class="form-control" id="printer_model" name="printer_model" required data-choices
                        data-placeholder="Select Printer Model">
                        {% for model in printer_models %}
                        <option value="{{ model.id }}">{{ model.name }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="col-md-6">
                    <label for="store" class="form-label">Store</label>
                    <select class="form-control" id="store" name="store" required data-choices
                        data-placeholder="Select Store">
                        {% for store in stores %}
                        <option value="{{ store.id }}">{{ store.name }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="d-flex justify-content-end gap-2 mt-3">
                <a href="{% url 'frontend:printer_unit_list' %}" class="btn btn-secondary">Cancel</a>
                <button type="submit" class="btn btn-dark">Save</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Pagination and ajax handled by base.js
</script>
{% endblock %}
