<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}My Site{% endblock %}</title>

    {% load static %}
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap-icons.css' %}">
    <link rel="stylesheet" href="{% static 'css/choices.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/flatpickr.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    {% block extra_css %}{% endblock %}
</head>

<body>
    <div class="container-fluid d-flex flex-column min-vh-100">
        <!-- Header -->
        <div class="row">
            <div class="col-12 p-0">
                <header class="d-flex align-items-center justify-content-between p-0">
                    <!-- Left logo -->
                    <div class="d-flex align-items-center">
                    </div>

                    <!-- Center logo -->
                    <div class="d-flex align-items-center justify-content-center flex-grow-1">
                    </div>

                    <!-- Right: Logout -->
                    {% if user.is_authenticated %}
                    <form id="logout_form" method="POST" action="{% url 'api:logout' %}"
                        class="d-flex align-items-center justify-content-end">
                        {% csrf_token %}
                        <button type="submit" class="logout-btn">Logout</button>
                    </form>
                    {% else %}
                    <div></div>
                    {% endif %}
                </header>
            </div>
        </div>

        <!-- Body -->
        <div class="row">
            {% if user.is_authenticated %}
            <aside class="col-2 sidebar p-3">
                <ul>
                    <li class="{% if request.path == '/' %}active{% endif %}">
                        <a href="{% url 'frontend:home' %}">Dashboard</a>
                    </li>
                    <li class="{% if '/master-data/' in request.path %}active-parent{% endif %}">
                        <a class="d-flex justify-content-between align-items-center" data-bs-toggle="collapse"
                            href="#masterDataMenu" role="button"
                            aria-expanded="{% if '/master-data/' in request.path %}true{% else %}false{% endif %}"
                            aria-controls="masterDataMenu">
                            Master Data
                            <span class="ms-2">&#x25BC;</span>
                        </a>

                        <ul class="collapse ps-3 mt-2 {% if '/master-data/' in request.path %}show{% endif %}"
                            id="masterDataMenu">

                            <!-- Printer Model -->
                            <li class="{% if '/master-data/printer-unit/' in request.path %}active{% endif %}">
                                <a href="{% url 'frontend:printer_unit_list' %}">Printer Unit</a>
                            </li>

                            <!-- Printer Model -->
                            <li class="{% if '/master-data/printer-model/' in request.path %}active{% endif %}">
                                <a href="{% url 'frontend:master_data_list' 'printer-model' %}">Printer Model</a>
                            </li>

                            <!-- Store -->
                            <li class="{% if '/master-data/store/' in request.path %}active{% endif %}">
                                <a href="{% url 'frontend:master_data_list' 'store' %}">Store</a>
                            </li>

                            <!-- Vendor -->
                            <li class="{% if '/master-data/vendor/' in request.path %}active{% endif %}">
                                <a href="{% url 'frontend:master_data_list' 'vendor' %}">Vendor</a>
                            </li>

                            <!-- Customer -->
                            <li class="{% if '/master-data/customer/' in request.path %}active{% endif %}">
                                <a href="{% url 'frontend:customer_list' %}">Customer</a>
                            </li>

                        </ul>
                    </li>
                    <li class="{% if '/purchase/' in request.path %}active{% endif %}">
                        <a href="{% url 'frontend:purchase_list' %}">Purchase Printer</a>
                    </li>
                    <li class="{% if '/rental/' in request.path %}active{% endif %}">
                        <a href="{% url 'frontend:rental_list' %}">Rent Printer</a>
                    </li>
                    <li class="{% if '/rental-return/' in request.path %}active{% endif %}">
                        <a href="{% url 'frontend:rental_return_list' %}">Return Rented Printer</a>
                    </li>
                    <li class="{% if '/inventory-in-store/' in request.path %}active{% endif %}">
                        <a href="{% url 'frontend:inventory_in_store' %}">Inventory in Store</a>
                    </li>
                    <li class="{% if '/inventory-on-rent/' in request.path %}active{% endif %}">
                        <a href="{% url 'frontend:inventory_on_rent' %}">Inventory on Rent</a>
                    </li>
                    <li class="{% if '/inventory-by-status/' in request.path %}active{% endif %}">
                        <a href="{% url 'frontend:inventory_by_status' %}">Inventory by Status</a>
                    </li>

                </ul>
            </aside>


            {% endif %}
            <main class="{% if user.is_authenticated %}col-10{% else %}col-12{% endif %} content p-3">
                {% block content %}{% endblock %}
            </main>
        </div>

        <!-- Footer -->
        <div class="row">
            <div class="col-12 p-0">
                <footer id="footer">
                    <p>Copyright&copy; {% now "Y" %} | Created By
                        <a href="https://spaatech.com" target="_blank">SPAATech Solutions India Pvt. Ltd.</a>
                    </p>
                </footer>

            </div>
        </div>

    </div>


    <script src="{% static 'js/jquery-3.7.1.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'js/choices.min.js' %}"></script>
    <script src="{% static 'js/flatpickr.js' %}"></script>
    <script src="{% static 'js/chart.umd.min.js' %}"></script>
    <script src="{% static 'js/html2canvas.min.js' %}"></script>
    <script src="{% static 'js/jspdf.umd.min.js' %}"></script>
    <script src="{% static 'js/exceljs.min.js' %}"></script>
    <script src="{% static 'js/FileSaver.min.js' %}"></script>
    <script>
        window.IS_SUPERUSER = JSON.parse("{{ user.is_superuser}}".toLowerCase());
    </script>
    <script src="{% static 'js/base.js' %}"></script>
    <script src="{% static 'js/HTMLTableToExcel.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>

</html>